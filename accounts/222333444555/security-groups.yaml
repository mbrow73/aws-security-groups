# Test account: Schema validation and typo detection
# This file intentionally contains errors to test validation
account_id: "222333444555"
enviroment: "production"  # typo: should be 'environment', wrong value: should be prod/test/dev

security_groups:
  schema-typo-test:
    descrption: "Typo in description key"  # typo: should be 'description'
    ingresss:  # typo: should be 'ingress'
      - protocol: "tcp"
        from_port: 443
        to_port: 443
        cidr_blocks: ["10.0.0.0/24"]
    ingress:
      # Bare string instead of list for cidr_blocks
      - protocol: "tcp"
        from_port: 443
        to_port: 443
        cidr_blocks: "10.0.0.0/24"
        descriptin: "typo in rule key"  # typo: should be 'description'
      # Bad 'self' value
      - protocol: "tcp"
        from_port: 80
        to_port: 80
        self: "yes"  # should be boolean true/false
        description: "Bad self value"
    egress: []  # empty list warning

  duplicate-rules-test:
    description: "Tests duplicate rule detection"
    ingress:
      - protocol: "tcp"
        from_port: 443
        to_port: 443
        cidr_blocks: ["10.0.0.0/24"]
        description: "Allow HTTPS from app subnet"
      - protocol: "tcp"
        from_port: 443
        to_port: 443
        cidr_blocks: ["10.0.0.0/24"]
        description: "Oops copy-pasted the same rule"
      - protocol: "tcp"
        from_port: 8080
        to_port: 8080
        cidr_blocks: ["10.1.0.0/24"]
        description: "This one is unique"

  environment-test:
    description: "Valid SG to test environment validation only"
    ingress:
      - protocol: "tcp"
        from_port: 443
        to_port: 443
        security_groups: ["sg-0123456789abcdef0"]
        description: "HTTPS from ALB"
